<odoo>
    <data>

        <record id="sale_oder_inherite_form_view" model="ir.ui.view">
            <field name="name">sale.order.inherite.view</field>
            <field name="model">sale.order</field>
            <field name="inherit_id" ref="sale.view_order_form"/>
            <field name="arch" type="xml">

                <xpath expr="//page[@name='customer_signature']" position="attributes">
                    <attribute name="invisible">1</attribute>
                </xpath>

                <xpath expr="//page[@name='other_information']" position="attributes">
                    <attribute name="groups">domestico.domestico_group_manager</attribute>
                </xpath>

                <xpath expr="//header" position="replace">
                    <field name="partner_invoice_id" invisible="1" />
                    <field name="require_signature" invisible="1" />
                    <field name="invoice_status" invisible="1" />
                    <field name="state" invisible="1"/>
                    <header grops="domestico.domestico_group_manager">
                        <button id="create_invoice" name="376" string="Create Invoice" type="action" class="btn-primary" data-hotkey="q" attrs="{'invisible': [('invoice_status', '!=', 'to invoice')]}"/>
                        <button id="create_invoice_percentage" name="376" string="Create Invoice" type="action" context="{'default_advance_payment_method': 'percentage'}" data-hotkey="q" attrs="{'invisible': ['|',('invoice_status', '!=', 'no'), ('state', '!=', 'sale')]}"/>
                        <button name="action_confirm" id="action_confirm" data-hotkey="v" string="Confirm" class="btn-primary" type="object" context="{'validate_analytic': True}" attrs="{'invisible': [('state', 'not in', ['sent'])]}"/>
                        <button name="action_confirm" data-hotkey="v" string="Confirm" type="object" context="{'validate_analytic': True}" attrs="{'invisible': [('state', 'not in', ['draft'])]}"/>
                        <button name="action_cancel" type="object" string="Cancel" attrs="{'invisible': ['|', ('state', 'not in', ['draft', 'sent','sale']), ('id', '=', False)]}" data-hotkey="z"/>
                        <button name="action_draft" states="cancel" type="object" string="Set to Quotation" data-hotkey="w"/>
                        <field name="state"  widget="statusbar" 
                                statusbar_visible="draft,sale" on_change="1" modifiers="{'readonly': true}"/>
                    </header>
                </xpath>

                <xpath expr="//div[@name='button_box']" position="attributes">
                    <attribute name="invisible">1</attribute>
                </xpath>
                
            </field>
        </record>

        <record id="domestico_product_assignment_pivot" model="ir.ui.view">
          <field name="name">sale.order.line.pivot</field>
          <field name="model">sale.order.line</field>
          <field name="arch" type="xml">
            <pivot string="Asignación" >
                <field name="order_partner_id" type="row" />
                <field name="product_id" type="col" />
                <field name="product_uom_qty" type="measure"/>
            </pivot>
          </field>
        </record>

        <record id="domestico_product_assignment_list" model="ir.ui.view">
          <field name="name">sale.order.line.list</field>
          <field name="model">sale.order.line</field>
          <field name="arch" type="xml">
            <tree editable="bottom" create="false">
                <field name="company_id" invisible="1"/>
                <field name="order_partner_id" readonly="1"/>
                <field name="product_id" readonly="1"/>
                <field name="product_uom_qty" />
            </tree>
          </field>
        </record>

        <record id="domestico_product_assignment_action" model="ir.actions.act_window">
          <field name="name">Asignación de Electrodomestico</field>
          <field name="type">ir.actions.act_window</field>
          <field name="res_model">sale.order.line</field>
          <field name="view_mode">pivot,tree</field>
        </record>

        <record id="domestico_product_assignment_view_pivot_action" model="ir.actions.act_window.view">
          <field name="sequence" eval="1"/>
          <field name="view_mode">pivot</field>
          <field name="view_id" ref="domestico.domestico_product_assignment_pivot"/>
          <field name="act_window_id" ref="domestico.domestico_product_assignment_action"/>
        </record>
        <record id="domestico_product_assignment_view_list_action" model="ir.actions.act_window.view">
          <field name="sequence" eval="2"/>
          <field name="view_mode">tree</field>
          <field name="view_id" ref="domestico.domestico_product_assignment_list"/>
          <field name="act_window_id" ref="domestico.domestico_product_assignment_action"/>
        </record>

        <record id="domestico_product_assignment_solic_action" model="ir.actions.act_window">
          <field name="name">Solicitud de electrodomestico</field>
          <field name="type">ir.actions.act_window</field>
          <field name="res_model">sale.order</field>
          <field name="view_mode">tree,form</field>
        </record>

    </data>
</odoo>